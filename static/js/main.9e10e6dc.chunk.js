(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,r){e.exports=r(19)},17:function(e,t,r){},18:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(4),i=r.n(o),l=(r(17),r(8)),s=r(2),c=r(5),u=r(6),f=r(9),h=r(7),p=r(1),v=r(10),d=(r(18),function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={field:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],isGameActive:!1,isWin:!1},r.handleKeyUp=r.handleKeyUp.bind(Object(p.a)(r)),r}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"componentDidMount",value:function(){this.state.isGameActive||(this.spawnNumbers(2),this.setState({isGameActive:!0}))}},{key:"spawnNumbers",value:function(e){for(var t=this,r=this.state.field,n=[],a=[],o=0;o<4;o++)for(var i=0;i<4;i++)0===r[o][i]&&n.push([o,i]);for(var c=0;c<e;c++){var u=Math.floor(Math.random()*n.length);a.push(n.splice(u,1)[0])}this.setState(function(e){for(var r=Object(s.a)(e.field),n=0,o=a;n<o.length;n++){var i=o[n],c=Object(l.a)(i,2),u=c[0],f=c[1];r[u][f]=t.getNewTileValue()}return{field:r}})}},{key:"getNewTileValue",value:function(){return 1===Math.floor(10*Math.random())+1?4:2}},{key:"handleKeyUp",value:function(e){var t=e.key;["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(t)&&this.handleMove(t)}},{key:"handleMove",value:function(e){var t=this;console.log(e);var r=this.state.field,n=[];if("ArrowRight"===e||"ArrowLeft"===e)for(var a=0;a<4;a++){var o=r[a].filter(function(e){return e>0});for(o=this.collapseSameTiles(o,e);o.length<4;)"ArrowRight"===e?o.unshift(0):"ArrowLeft"===e&&o.push(0);n.push(o)}else if("ArrowUp"===e||"ArrowDown"===e){for(var i=[[],[],[],[]],l=0;l<4;l++)for(var s=0;s<4;s++)0!==r[l][s]&&i[s].push(r[l][s]);for(var c=0;c<4;c++){var u=i[c].filter(function(e){return e>0});for(u=this.collapseSameTiles(u,e);u.length<4;)"ArrowDown"===e?u.unshift(0):"ArrowUp"===e&&u.push(0);i[c]=u}n=[[],[],[],[]];for(var f=0;f<4;f++)for(var h=0;h<4;h++)n[f].push(i[h][f])}this.setState({field:n},function(){return t.spawnNumbers(1)})}},{key:"collapseSameTiles",value:function(e,t){var r=Object(s.a)(e);if("ArrowRight"===t||"ArrowDown"===t)for(var n=r.length-1;n>0;n--)r[n]===r[n-1]&&(r[n]+=r[n],r[n-1]=0);else if("ArrowLeft"===t||"ArrowUp"===t)for(var a=0;a<r.length-1;a++)r[a]===r[a+1]&&(r[a]+=r[a],r[a+1]=0);return r=r.filter(function(e){return e>0})}},{key:"render",value:function(){var e=this.state.field;return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App-field"},e.map(function(e,t){return a.a.createElement("div",{key:"row ".concat(t),className:"App-field-row"},e.map(function(e,r){return a.a.createElement("div",{key:"cell ".concat(t,"_").concat(r),className:"App-field-cell"},e>0&&a.a.createElement("div",{className:"App-field-cell-tile"},e))}))})))}}]),t}(n.Component));i.a.render(a.a.createElement(d,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.9e10e6dc.chunk.js.map